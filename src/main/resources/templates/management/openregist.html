<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://unpkg.com/ress/dist/ress.min.css">

    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/css/management/openRegist.css">
    
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>


    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>


    <link rel="stylesheet" href="js/openRegist/jqx.base.css" type="text/css" />
    <script type="text/javascript" src="js/openRegist/jqxcore.js"></script>
    <script type="text/javascript" src="js/openRegist/jqxdraw.js"></script>
    <script type="text/javascript" src="js/openRegist/jqxtimepicker.js"></script>


    <script type="text/javascript">
        
        


        $(document).ready(function ()
        {

            $("#jqxTimePicker").jqxTimePicker({
                width: 200,
                height: 300
            });
            $("#jqxTimePicker").on("change", function (event)
            {
                var args = event.args;
                var newDate = args.value;
                var test = new Date(newDate);
                // alert(newDate);
                $("#hiddenTime").val(test.getHours() +":" + test.getMinutes());
                console.log($("#hiddenTime").val());
            });


            $("#startBtn, #endBtn").click(setTime);

            function setTime() {
                
                let checkTime = $("#hiddenTime").val();
                console.log(checkTime);
                
                if(this.id == "startBtn"){
                    if(confirm(checkTime + "로 수강 시작 시간을 설정하시겠습니까?")){
                        $("#lrStartTime").val(checkTime);
                    }
                    
                } else{
                    if(confirm(checkTime + "로 수강 종료 시간을 설정하시겠습니까?")){
                        $("#lrEndTime").val(checkTime);
                    }
                }
            }

        });
    </script>

</head>
<body>
    <div class="listContainer">
        <div class="content">
            <div class="titleArea">
                <h1>강의 오픈</h1>
            </div>
            <div class="contentArea">
                <div class="selectArea1">
                    <input type="text" value="본사" readonly>
                    <input type="button" id="lectureBtn" value="강의를 선택해 주세요">
                    <div class="timePickerArea"><div id="jqxTimePicker"></div></div>
                </div>
                <div class="selectArea1">
                    <input type="number" name="capacity" min="1" placeholder="정원을 입력해 주세요">
                    <input type="number" name="fee" min="0" placeholder="수강료를 입력해 주세요">
                </div>
                <div class="selectArea1">
                    <input type="text" class="lectureDate dateSelector" id="lrStartDate" name="lrStartDate" placeholder="수강기간 시작일을 선택해 주세요">
                    <input type="text" class="lectureDate dateSelector" id="lrEndDate" name="lrEndDate" placeholder="수강기간 종료일을 선택해 주세요">
                </div>
                <div class="selectArea1">
                    <input type="text" class="lectureTime" id="lrStartTime" name="lrStartTime" placeholder="수강 시작 시간">
                    <button type="button" id="startBtn">시간설정</button>
                    <input type="text" class="lectureTime" id="lrEndTime" name="lrEndTime" placeholder="수강 종료 시간">
                    <button type="button" id="endBtn">시간설정</button>
                    <input type="hidden" id="hiddenTime">
                </div>
                <div class="selectArea1">
                    <select name="lrDay" id="lrDay">
                        <option value="" selected>요일을 선택해 주세요</option>
                        <option value="월">매주 월요일</option>
                        <option value="화">매주 화요일</option>
                        <option value="수">매주 수요일</option>
                        <option value="목">매주 목요일</option>
                        <option value="금">매주 금요일</option>
                        <option value="토">매주 토요일</option>
                        <option value="일">매주 일요일</option>
                    </select>
                </div>
                <div class="selectArea1">
                    <input type="button" id="instructorBtn" value="강사를 선택해 주세요">
                </div>
                
                <div class="btnArea">
                    <input type="button" value="오픈하기">
                </div>
            </div>
        </div>
    </div>
    <div class="modal" id="modalInstructor">
        <div class="modalWindow">
            <div class="listArea">
                <ul>
                    <li>
                        <input type="radio" name="instructor">
                        <img src="#">
                        <span>꼬북이</span>
                    </li>
                </ul>
            </div>
            <div class="btnArea">
                <button type="button">선택하기</button>
            </div>
        </div>
    </div>
    <div class="modal" id="modalLecture">
        <div class="modalWindow">
            <div class="listArea">
                <ul>
                    <li>
                        <input type="radio" name="instructor">
                        <img src="#">
                        <span>강의제목입니다</span>
                    </li>
                </ul>
            </div>
            <div class="btnArea">
                <button type="button">선택하기</button>
            </div>
        </div>
    </div>
<script>

    var dateSelector = $('.dateSelector');
    dateSelector.flatpickr({

        dateFormat: "Y-m-d",
        minDate:"today",
        maxDate: new Date().fp_incr(120)

        });



    var body = document.body,
    html = document.documentElement;
    
    $("#instructorBtn").click(function(){
        var height = Math.max( body.scrollHeight, body.offsetHeight, 
                       html.clientHeight, html.scrollHeight, html.offsetHeight );

        $("#modalInstructor").height(height);
        $("#modalInstructor").fadeIn();
        
    });

    $(".modal").click(function(e){
        if(e.target.classList.contains("modal")){
            $(".modal").fadeOut();
        }
    });

    $("#lectureBtn").click(function(){
        var height = Math.max( body.scrollHeight, body.offsetHeight, 
                       html.clientHeight, html.scrollHeight, html.offsetHeight );

        $("#modalLecture").height(height);
        $("#modalLecture").fadeIn();
    });

</script>

</body>
</html>